(function(e){function t(t){for(var i,r,l=t[0],c=t[1],u=t[2],f=0,d=[];f<l.length;f++)r=l[f],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);a&&a(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,l=1;l<n.length;l++){var c=n[l];0!==o[c]&&(i=!1)}i&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={app:0},s=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/vue-multi-items-input/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var a=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"002e":function(e,t,n){"use strict";var i=n("a5aa"),o=n.n(i);o.a},3660:function(e,t,n){"use strict";var i=n("e166"),o=n.n(i);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[e._m(0),i("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),i("multi-items-input",{attrs:{fetch:e.search,placeholder:"请输入关键字",height:100,separator:";","selection-only":!1},on:{select:e.select,delete:e.onDelete},model:{value:e.arr,callback:function(t){e.arr=t},expression:"arr"}}),i("p",[e._v(e._s(e.arr))])],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("测试： "),n("input")])}],r=(n("4de4"),n("c975"),n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"jw-container",style:{height:e.height+"px"},on:{click:function(t){return t.target!==t.currentTarget?null:(t.preventDefault(),e.setLastItemFocus(t))}}},[e._l(e.selectedItems,(function(t,i){return n("input-item",{key:"selectedItems"+i,ref:"jw-selectedItems"+i,refInFor:!0,attrs:{name:t.name,editable:!0,id:t.id,"fetch-suggestions":e.fetch,"trigger-on-focus":e.triggerOnFocus,suffix:e.separator,"selection-only":e.selectionOnly,marked:e.marked},on:{deleteClick:function(){return e.deleteItemGenerator(i)(t)},select:function(t){return e.addSelectedItemsGenerator(i)(t)},itemClick:e.handleItemClick}})})),0===e.selectedItems.length?n("auto-complete-input",{ref:"pre-input",staticClass:"pre-input",attrs:{"trigger-on-focus":e.triggerOnFocus,fetch:e.fetch,placeholder:e.placeholder,"selection-only":e.selectionOnly},on:{select:function(t){return e.addSelectedItemsGenerator(-1)(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}):e._e()],2)}),l=[],c=(n("4160"),n("a434"),n("a9e3"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"jwolfcn-container"},[n("popper",{attrs:{"append-to-body":!1,"root-class":"jwolfcn-list","stop-propagation":!0,"prevent-default":!1,"delay-on-mouse-out":300,"delay-on-mouse-over":300,trigger:"focus"}},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"items-container"},e._l(e.internalItems,(function(t,i){return n("div",{key:"jw__item"+i,ref:"jwolfcn__item"+i,refInFor:!0,staticClass:"jwolfcn-list-item",class:{"jwolfcn-list-active":i===e.cursor},on:{touch:function(n){return e.onClickItem(n,t)},click:function(n){return n.stopPropagation(),e.onClickItem(n,t)}}},[n("div",[e._v(e._s(t.name))])])})),0)]),n("input",e._b({attrs:{slot:"reference",type:"text",autocomplete:"off",placeholder:e.placeholder,disabled:e.disabled},domProps:{value:e.value},on:{input:e.input,blur:e.blur,focus:e.focus,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.keyEnter(t)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.keyEnter(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.keyUp(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.keyDown(t)}]},slot:"reference"},"input",[e.$attrs],!1))])],1)}),u=[],a=n("15d3"),f=n("526e"),d=n.n(f),p=(n("a101"),{name:"AutoCompleteInput",inheritAttrs:!1,components:{Popper:d.a},props:{value:null,getLabel:{type:Function,default:function(e){return e}},triggerOnFocus:{type:Boolean},fetch:{type:Function},placeholder:String,disabled:{type:Boolean,default:!1},keepOpen:{type:Boolean,default:!1},selectionOnly:{type:Boolean,default:!1}},data:function(){return{showList:!1,cursor:-1,selectedItem:null,internalItems:[]}},mounted:function(){},computed:{hasItems:function(){return!!this.internalItems.length},show:function(){return this.showList&&this.hasItems||this.keepOpen},minCursor:function(){return this.selectionOnly?0:-1}},methods:{__fetch:Object(a["a"])(300,(function(){var e=this;"function"===typeof this.fetch&&this.fetch(this.value,(function(t){e.internalItems=t,e.showList=!0}))})),__itemView:function(e){e&&e.scrollIntoView&&e.scrollIntoView(!1)},__selectItem:function(e){e&&(this.selectedItem=e,this.$emit("select",e))},input:function(e){this.$emit("input",e.target.value),this.__fetch()},focus:function(){return this.triggerOnFocus&&this.__fetch()},blur:function(){var e=this;this.$emit("blur"),setTimeout((function(){e.showList=!1}),200)},onClickItem:function(e,t){this.showList=!1,this.__selectItem(t)},keyUp:function(){this.cursor>this.minCursor&&(this.cursor--,this.__itemView(this.$el.getElementsByClassName("jwolfcn-list-item")[this.cursor]))},keyDown:function(){this.cursor<this.internalItems.length-1&&(this.cursor++,this.__itemView(this.$el.getElementsByClassName("jwolfcn-list-item")[this.cursor]))},keyEnter:function(){this.cursor<0&&this.value.length>0&&this.__selectItem({name:this.value,id:null}),this.showList&&this.internalItems[this.cursor]&&(this.__selectItem(this.internalItems[this.cursor]),this.showList=!1)}},watch:{show:function(){this.cursor=this.minCursor}}}),m=p,h=(n("3660"),n("2877")),y=Object(h["a"])(m,c,u,!1,null,"756f07fc",null),v=y.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"point-container",on:{click:function(t){return t.preventDefault(),e.itemClick(t)}}},[n("span",{staticClass:"label",class:{marked:e.name===e.marked}},[e._v(e._s(e.name+e.suffix))]),n("autocomplete",{ref:"input",staticClass:"place-hold",style:{width:e.inputWidth+"px"},attrs:{disabled:!e.editable,triggerOnFocus:e.triggerOnFocus,fetch:e.fetchSuggestions,"selection-only":e.selectionOnly},on:{select:e.select},nativeOn:{input:function(t){return e.inputHandle(t)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.deleteHandle(e.v)}},model:{value:e.v,callback:function(t){e.v=t},expression:"v"}}),n("pre",{ref:"sensor",staticStyle:{"font-size":"16px",visibility:"hidden",position:"fixed","z-index":"-1",bottom:"-99999px"}},[e._v(e._s(e.v))])],1)},w=[],k={name:"InputItem",components:{autocomplete:v},props:{triggerOnFocus:{type:Boolean},id:{type:[Boolean,String,Number]},editable:{type:[Boolean],default:!1},name:{type:[String]},suffix:{type:[String]},marked:{type:[String]},fetchSuggestions:{type:Function},selectionOnly:{type:Boolean,default:!1}},data:function(){return{v:"",inputWidth:6}},methods:{itemClick:function(){if(this.editable)return this.__focus(),void this.$emit("itemClick",{id:this.id,name:this.name})},__focus:function(){var e=this.$refs.input.$el.querySelector("input");e&&e.focus()},select:function(e){this.v="",this.inputWidth=6,this.$emit("select",e)},deleteHandle:function(){0===this.v.length&&this.$emit("deleteClick",this.id)},inputHandle:function(e){var t=this;this.v=e.target.value,this.$nextTick((function(){t.inputWidth=t.$refs["sensor"].clientWidth+6}))}}},_=k,b=(n("5dd2"),Object(h["a"])(_,g,w,!1,null,"6677e32b",null)),I=b.exports,x={name:"MultiItemsInput",components:{AutoCompleteInput:v,InputItem:I},props:{value:{type:Array},fetch:{type:Function},triggerOnFocus:{type:Boolean,default:!0},placeholder:{type:String},height:{type:Number},separator:{type:String,default:" "},selectionOnly:{type:Boolean,default:!1}},data:function(){return{test:"test",inputWidth:"60",editable:!0,selectedItems:[],keywords:"",marked:""}},mounted:function(){Array.isArray(this.value)&&(this.selectedItems=this.value),this.$refs["pre-input"].$el.querySelector("input").focus()},methods:{addSelectedItemsGenerator:function(e){var t=this,n=e+1;return function(e){t.selectedItems.splice(n,0,e),t.$nextTick((function(){if(t.selectedItems.length>0){var e=t.$refs["jw-selectedItems"+n];e&&e[0]&&e[0].$el.querySelector("input").focus()}})),t.$emit("select",t.selectedItems,e),t.$emit("input",t.selectedItems)}},deleteItemGenerator:function(e){var t=this;return function(n){if(t.selectedItems.splice(e,1),e){var i=e-1;t.$nextTick((function(){var e=t.$refs["jw-selectedItems"+i][0];e&&e.$el.querySelector("input").focus()}))}else t.$nextTick((function(){var e=t.$refs["pre-input"];e&&e.$el.querySelector("input").focus()}));t.$emit("delete",n,t.selectedItems),t.$emit("input",t.selectedItems)}},setLastItemFocus:function(){if(!(this.selectedItems.length<1)){var e=this.$refs["jw-selectedItems"+(this.selectedItems.length-1)][0];e&&e.$el.querySelector("input").focus()}},handleItemClick:function(e){this.marked=e.name}},watch:{value:function(){var e=[];Array.isArray(this.value)&&this.value.forEach((function(t){e.push(t)})),this.selectedItems=e}}},j=x,O=(n("002e"),Object(h["a"])(j,r,l,!1,null,"542f7462",null)),$=O.exports,C={name:"app",components:{MultiItemsInput:$},data:function(){return{data:null,arr:[{name:"xueli@jwolf.cn",id:23},{name:"xiaohong@jwolf.cn",id:24},{name:"xiaoming@jwolf.cn",id:25},{name:"xiaoting@jwolf.cn",id:26},{name:"xiaoze@jwolf.cn",id:27},{name:"xiaobei@jwolf.cn",id:28},{name:"xiaowei@jwolf.cnxxx",id:29}]}},methods:{search:function(e,t){var n=[{name:"xiaob@jwolf.cn",id:1},{name:"xiaorou@jwolf.cn",id:2},{name:"liming@jwolf.cn",id:3},{name:"lizz@jwolf.cn",id:12},{name:"wess@jwolf.cn",id:13},{name:"liang@jwolf.cn",id:14},{name:"abd@jwolf.cn",id:21},{name:"bbcc@jwolf.cn",id:22},{name:"xueli@jwolf.cn",id:23},{name:"xiaohong@jwolf.cn",id:24},{name:"xiaoming@jwolf.cn",id:25},{name:"xiaoting@jwolf.cn",id:26},{name:"xiaoze@jwolf.cn",id:27},{name:"xiaobei@jwolf.cn",id:28},{name:"xiaowei@jwolf.cn",id:29}];setTimeout((function(){if(e){var i=n.filter((function(t){return t.name.indexOf(e)>-1}));t(i)}else t(n)}),100)},select:function(e,t){this.data=JSON.stringify(e)+t},onDelete:function(e,t){this.data=JSON.stringify(e)+",   "+JSON.stringify(t)}}},S=C,F=(n("5c0b"),Object(h["a"])(S,o,s,!1,null,null,null)),B=F.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(B)}}).$mount("#app")},"5a5f":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var i=n("9c0c"),o=n.n(i);o.a},"5dd2":function(e,t,n){"use strict";var i=n("5a5f"),o=n.n(i);o.a},"9c0c":function(e,t,n){},a5aa:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},e166:function(e,t,n){}});